%% ****** Start of file apstemplate.tex ****** %
%%
%%
%%   This file is part of the APS files in the REVTeX 4.2 distribution.
%%   Version 4.2a of REVTeX, January, 2015
%%
%%
%%   Copyright (c) 2015 The American Physical Society.
%%
%%   See the REVTeX 4 README file for restrictions and more information.
%%
%
% This is a template for producing manuscripts for use with REVTEX 4.2
% Copy this file to another name and then work on that file.
% That way, you always have this original template file to use.
%
% Group addresses by affiliation; use superscriptaddress for long
% author lists, or if there are many overlapping affiliations.
% For Phys. Rev. appearance, change preprint to twocolumn.
% Choose pra, prb, prc, prd, pre, prl, prstab, prstper, or rmp for journal
%  Add 'draft' option to mark overfull boxes with black boxes
%  Add 'showkeys' option to make keywords appear
\documentclass[aps,prl,twocolumn,groupedaddress]{revtex4-2}

% You should use BibTeX and apsrev.bst for references
% Choosing a journal automatically selects the correct APS
% BibTeX style file (bst file), so only uncomment the line
% below if necessary.
%\bibliographystyle{apsrev4-2}

\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{color}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{mathrsfs}
\usepackage{wasysym}
\usepackage{tikz-cd}
\usepackage{adjustbox}
\usepackage{booktabs}
\usepackage{orcidlink}


% https://tex.stackexchange.com/questions/269553/counter-too-large-error-with-item
\usepackage{alphalph}
%\renewcommand\thesubsectiondis{\AlphAlph{\value{subsection}}.}% for the headings in the text
\renewcommand%\thesubsection{\mbox{\thesection-\AlphAlph{\value{subsection}}}}% for the ToC, for example   \renewcommand
\thesubsection{\mbox{\AlphAlph{\value{subsection}}}}% for the ToC, for example   

% so sections, subsections, etc. become numerated.
\setcounter{secnumdepth}{3}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\avrg}[1]{\left\langle #1 \right\rangle}
\newcommand{\nelta}{\bar{\delta}}
\newcommand{\krn}{\mathrm{krn}}
\newcommand{\rng}{\mathrm{rng}}
\newcommand{\rnk}{\mathrm{rnk}}
\newcommand{\nll}{\mathrm{nll}}
\newcommand{\grad}{\mathrm{grad}}
\newcommand{\curl}{\mathrm{curl}}
\newcommand{\dive}{\mathrm{div}}
\newcommand{\bra}[1]{\left\langle #1\right|}
\newcommand{\ket}[1]{\left| #1 \right\rangle}
\newcommand{\sbra}[1]{\langle #1|}
\newcommand{\sket}[1]{| #1 \rangle}
\newcommand{\bek}[3]{\left\langle #1 \right| #2 \left| #3 \right\rangle}
\newcommand{\sbek}[3]{\langle #1 | #2 | #3 \rangle}
\newcommand{\braket}[2]{\left\langle #1 \middle| #2 \right\rangle}
\newcommand{\ketbra}[2]{\left| #1 \middle\rangle \middle\langle #2  \right|}
\newcommand{\sbraket}[2]{\langle #1 | #2 \rangle}
\newcommand{\sketbra}[2]{| #1 \rangle  \langle #2 |}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\snorm}[1]{\lVert#1\rVert}
\newcommand{\bvec}[1]{\boldsymbol{\mathsf{#1}}}
\newcommand{\bcov}[1]{\boldsymbol{#1}}
\newcommand{\bdua}[1]{\boldsymbol{\check{#1}}}
\newcommand{\bdov}[1]{\breve{#1}}
\newcommand{\bten}[1]{\boldsymbol{\mathfrak{#1}}}
\newcommand{\forany}{\tilde{\forall}}
\newcommand{\qed}{$\overset{\circ}{.}\;$}
\newcommand{\bigo}{\mathcal{O}}
\newcommand\scalemath[2]{\scalebox{#1}{\mbox{\ensuremath{\displaystyle #2}}}}

\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\KK}{\mathbb{K}}
\newcommand{\FF}{\mathbb{F}}

\newcommand{\smallo}{o}

\begin{document}

% Use the \preprint command to place your local institutional report
% number in the upper righthand corner of the title page in preprint mode.
% Multiple \preprint commands are allowed.
% Use the 'preprintnumbers' class option to override journal defaults
% to display numbers if necessary
%\preprint{}

%Title of paper
\title{Analysis of the inference of ratings and rankings on Higher Order Networks with complex topologies}

% repeat the \author .. \affiliation  etc. as needed
% \email, \thanks, \homepage, \altaffiliation all apply to the current
% author. Explanatory text should go in the []'s, actual e-mail
% address or url should go in the {}'s for \email and \homepage.
% Please use the appropriate macro foreach each type of information

\author{Juan I. Perotti\,\orcidlink{https://orcid.org/0000-0001-7424-9552}}
\email[]{juan.perotti@unc.edu.ar}
\affiliation{Instituto de F\'isica Enrique Gaviola (IFEG-CONICET),\\
Facultad de Matem\'atica, Astronom\'ia, F\'isica y Computaci\'on,\\
Universidad Nacional de C\'ordoba, Ciudad Universitaria, 5000 C\'ordoba, Argentina}

%Collaboration name if desired (requires use of superscriptaddress
%option in \documentclass). \noaffiliation is required (may also be
%used with the \author command).
%\collaboration can be followed by \email, \homepage, \thanks as well.
%\collaboration{}
%\noaffiliation

\date{\today}

\begin{abstract}
Bla bla...
\end{abstract}

% insert suggested keywords - APS authors don't need to do this
%\keywords{}

%\maketitle must follow title, authors, abstract, and keywords
\maketitle

\section{Introduction}

See~\cite{perotti2025analysis,chacoma2025data}.

\section{Theory}
\label{sec:theory}

\subsection{Least-squares inference of team ratings and rankings}

Consider a set of $N=n+1$ teams labeled $\{0,1,\dots,n\}$.
For each distinct pair of teams $i$ and $j$, assume that a pairwise comparison score $f_{ij}=-f_{ji}$ is available.
Intuitively, $f_{ij}>0$ indicates that team $i$ should be rated higher than team $j$, whereas $f_{ij}<0$ suggests the opposite.

A natural approach to inferring ratings consistent with these comparisons is to assign scores $w_i$ (for $i=0,1,\dots,n$) that minimize the sum of squared discrepancies:
\begin{equation}
\label{eq:1}
\sum_{i<j} \bigl(f_{ij}-(w_i-w_j)\bigr)^2.
\end{equation}
Once the team ratings $w_0,w_1,\dots,w_n$ have been inferred, the ranking $r_0,r_1,\dots,r_n$ is obtained by requiring that $r_i<r_j$ whenever $w_i>w_j$.
This setup leads to a well-posed optimization problem that admits an elegant reformulation in terms of cochains over simplicial complexes.
The resulting framework for rating and ranking inference is known as \emph{HodgeRank}~\cite{jiang2011statistical, perotti2025analysis}.

\subsection{Discrete exterior calculus on simplicial complexes}

To review the HodgeRank method, we summarize the basic elements of discrete exterior calculus on simplicial complexes.  
Let $V=\{0,1,\dots,n\}$ denote a set of vertices.  
A simplicial complex is a collection
\[
K = K_0 \cup K_1 \cup \dots \cup K_n
\]
where
\[
K_k \subseteq \bigl\{\{i_0,\dots,i_k\} : 0\leq i_0<\dots<i_k\leq n,\ i_j\in V\bigr\},
\]
of $k$-simplices, i.e. unordered subsets $\{i_0,\dots,i_k\}$ of the vertex set satisfying the closure condition: if $s\in K$ and $r\subset s$ with $r\neq \emptyset$, then $r\in K$.

The set $K$ of simplices is associated with a vector space $C$ of vectors called chains, whose canonical basis is denoted by $\{e_s:s\in K\}$.
We equip $C$ with the trivial inner product
\[
e_r \cdot e_s = \delta_{rs}, \qquad r,s \in K.
\]
Using Einstein summation convention, any chain $c\in C$ can be written as $c=c^se_s$ with coefficients $c^s\in \mathbb{R}$.
The chain space decomposes into
\[
C = C_0 \oplus C_1 \oplus C_2,
\]
where $C_k$ is the subspace spanned by $\{e_s:s\in K_k\}$.

Dually, the space of cochains $C^*$ is spanned by $\{e^s:s\in K\}$, where $e^r(e_s)=\delta^r{}_s$.
Any $f\in C^*$ decomposes as $f=f_se^s$ with coefficients $f_s\in \mathbb{R}$, and
\[
C^* = C_0^* \oplus C_1^* \oplus C_2^*.
\]

By Riesz’s theorem, every cochain $f\in C^*$ corresponds uniquely to a chain $f^\flat \in C$ such that $f(c) = f^\flat \cdot c$ for all $c\in C$.
This induces an inner product on $C^*$:
\[
f\cdot g = f^\flat \cdot g^\flat.
\]
The map $f\mapsto f^\flat$ is an isomorphism, with inverse denoted by $c\mapsto c^\sharp$.

\medskip

\noindent\textbf{Orientation and boundary.}  
An orientation is imposed on chains by requiring
\[
e_s = e_{i_0\dots i_k} = (-1)^p e_{j_0\dots j_k},
\]
for each simplex $s=\{i_0,\dots,i_k\}\in K$, where $0\leq i_0<\dots<i_k\leq n$ and $p$ is the parity of the permutation taking $(i_0,\dots,i_k)$ into $(j_0,\dots,j_k)$.

The boundary operator $\partial:C\to C$ is defined on basis elements as
\[
\partial e_{i_0\dots i_k}
=
\sum_{j=0}^k (-1)^j e_{i_0\dots i_{j-1}i_{j+1}\dots i_k}.
\]
Thus $\partial(C_k)\subseteq C_{k-1}$, with $C_{-1}=\{0\}$.
This yields the decomposition
\[
\partial = \partial_0 \oplus \partial_1 \oplus \partial_2,
\]
where $\partial_k(C_k)\subseteq C_{k-1}$ and $\partial_0=0$.

\medskip

\noindent\textbf{Coboundary.}  
The coboundary operator $d:C^*\to C^*$ is defined by
\[
df(c) = f(\partial c),
\]
for all $f\in C^*$ and $c\in C$.
Thus $d(C_k^*) \subseteq C_{k+1}^*$, with $C_3^*=\{0\}$, and
\[
d = d_0 \oplus d_1 \oplus d_2, \qquad d_2=0.
\]

\medskip

\noindent\textbf{Adjoint operators.}  
Since the inner products on $C$ and $C^*$ are bilinear, the adjoint operators $\partial^*:C\to C$ and $d^*:C^*\to C^*$ are defined by
\[
\partial^*c \cdot q = c\cdot \partial q, 
\qquad 
d^*f \cdot g = f\cdot dg,
\]
for all $c,q\in C$ and $f,g\in C^*$.
These satisfy
\[
\partial^* = \partial_0^* \oplus \partial_1^* \oplus \partial_2^*, 
\qquad 
d^* = d_0^* \oplus d_1^* \oplus d_2^*.
\]

\medskip

\noindent\textbf{Hodge Laplacians.}  
The boundary and coboundary operators define the Hodge Laplacians
\[
\mathcal{L} = (\partial+\partial^*)^2 = \partial\partial^* + \partial^*\partial : C\to C,
\]
\[
L = (d+d^*)^2 = dd^* + d^*d : C^*\to C^*,
\]
where $\partial^2=(\partial^*)^2=d^2=(d^*)^2=0$.
These decompose as
\[
\mathcal{L} = \mathcal{L}_0 \oplus \mathcal{L}_1 \oplus \mathcal{L}_2, 
\qquad 
L = L_0 \oplus L_1 \oplus L_2,
\]
with
\[
\mathcal{L}_k = \mathcal{L}_k^{\downarrow}\oplus \mathcal{L}_k^{\uparrow}, 
\qquad 
L_k = L_k^{\downarrow}\oplus L_k^{\uparrow},
\]
\[
\mathcal{L}_k^{\downarrow} = \partial_k^*\partial_k, \quad 
\mathcal{L}_k^{\uparrow} = \partial_{k+1}\partial_{k+1}^*, 
\]
\[
L_k^{\uparrow} = d_k^*d_k, \quad 
L_k^{\downarrow} = d_{k-1}d_{k-1}^*.
\]

\medskip

\noindent\textbf{Hodge decomposition.}  
Every $k$-cochain $f$ admits the Hodge decomposition
\[
f = g \oplus h \oplus s,
\]
where $g\in \operatorname{im} d_{k-1}$ (gradient), $h\in \ker L_k$ (harmonic), and $s\in \operatorname{im} d_k^*$ (solenoidal).
Equivalently, there exist $w\in C_{k-1}^*$ and $u\in C_{k+1}^*$ such that
\[
g = d_{k-1}w, \qquad s = d_k^* u,
\]
with $w$ and $u$ determined by
\begin{align}
\label{eq:2}
d_k f &= L_{k+1}^{\downarrow} u, \\
\label{eq:3}
d_{k-1}^* f &= L_{k-1}^{\uparrow} w,
\end{align}
while $h=f-g-s$.

\subsection{HodgeRank}

Expression~\eqref{eq:1} can be reformulated in the language of discrete calculus as
\begin{equation}
\label{eq:4}
\lVert f - d_0(w) \rVert,
\end{equation}
where the scalar components $f_{ij}$ of the $1$-cochain $f=f_{ij}e^{ij}$ encode the pairwise comparison scores, and the components $w_i$ of the $0$-cochain $w=w_ie^i$ represent the ratings.
The minimizer of~\eqref{eq:4} coincides with the solution of Eq.~\eqref{eq:3} for $k=1$.

In this setting, the set of $0$-simplices $K_0$ corresponds to the teams $V$, the set of $1$-simplices $K_1$ to the comparisons $E$, and the set of $2$-simplices $K_2$ to the closed triples of comparisons:
\[
K_2 = \bigl\{ \{i,j,k\} : \{i,j\},\{j,k\},\{i,k\}\in E \bigr\}.
\]
For $k>2$, $K_k=\emptyset$.

\section{
Methods
\label{sec:methods}
}

The dataset covers five soccer leagues: England, France, Germany, Italy and Spain.
Each league consists of $N=20$ teams, except for Germany, which has $N=18$.

in the major European soccer leagues (e.g., Premier League, La Liga, Serie A, Bundesliga, Ligue 1), the final standings are determined by a points system based on the results of matches during the season.
In the standard system, a win adds 3 points, a draw 1 point and a loss 0 points.
Each team plays every other team in the league twice (home and away) in what is called a round-robin format. 
Over the course of the season, the $i$-th team accumulates a total of $\pi_i$ points.
At the end of the season, the teams are ranked in descending order of total points.
If two or more teams have the same number of points, tiebreakers are applied. The exact rules vary slightly by league, but usually the order is something like:
Goal difference (GD): goals scored minus goals conceded.
Goals scored (GF): total number of goals scored during the season.
Head-to-head record: results of the matches between the tied teams (some leagues use this before GD).
Playoff or extra match: in rare cases (e.g., for the title, relegation, or European qualification) if all other criteria fail.
So the final standing (the ranking table at the end of the season) is determined by total points, with tiebreakers applied as needed.

\subsection{
Data
\label{sec:data}
}

For each pair $\{i,j\}$ of teams in a given league, several pairwise metrics $m_{ij}$ and $m_{ji}$ are provided.
Each metric $m_{ij}$ takes a positive value when it presumably favors the home team $i$ over away team $j$, and takes a negative value otherwise.
The different types of empirically determined metrics being considered are:
\begin{enumerate}
\item {\bf crossings:}
\item {\bf counterattacks:}
\item {\bf pressure loss:}
\item {\bf build-up time:}
\item {\bf direct play:}
\item {\bf pressure points:}
\item {\bf shots:}
\item {\bf flow rate:}
\item {\bf maintenance time:}
\item {\bf middle-zone time:} bla bla.
\end{enumerate}
Moreover, the Singular Value Decomposition of previous emprically determined metrics are considered in order to define the so-called {\em styles} which are also some kind of metric~\cite{chacoma2025data}.

\subsection{Inference of ratings and rankings}

With each metric, the coefficients
$$
f_{ij}
=
\frac{1}{2}(m_{ij}+m_{ji})
=
- f_{ji}
$$
are defined for each $i$ and $j$ such that $i<j$.
Moreover, in order to test the HodgeRank inference method, two types of ground-truth coefficients are also defined.
Namely, the rank-based coefficients $f_{ij}=i-j$ and the tournament points based coefficients $f_{ij}=\pi_j-\pi_i$.
In all cases there is an underlying fully connected network or graph with $N$ nodes, that is promoted to a simplicial complex composed of 0-simplices labeled by $i$, 1-simplices labeled by $ij$ with $i<j$ and 2-simplices labeled by $ijk$ with $i<j<k$.
Correspondingly, the coefficients $f_{ij}$ are promoted to be the components of a 1-cochain  $f$, where the anti-symmetric relation $f_{ji}=-f_{ij}$ must hold by definition.

%From a score $\phi$, a corresponding cochain $f\in C_1^*$ of coordinates $f_{ij}=\phi_{ji}-\phi_{ij}$ is defined.
%Also, the cochain $f'\in C_1^*$ of coordinates $f'_{ij}=\phi_j-\phi_i$ with team strengths $\phi_i=\sum_j \phi_{ij}$ is considered.

{\color{red}[JUAN: Write here the inference problem.]}


\section{
Results
\label{sec:results}
}

The following experiments are carried on.
\begin{enumerate}
\item 
Compute ratings and rankings from the full weighted network of scores $\phi_{ij}$.

\item 
Compute ratings and rankings from sparsified versiond of the weighted networks of schores $\phi_{ij}$, by randomly removing a varying fraction of links.

\item 
Compute ratings and rankings from sparsified versiond of the weighted networks, by removing a varying fraction of the weighted links of the weighted matrix of scores $\phi_{ij}$ sorted in decreasing order of absolute weight.

\item 
Compute ratings defining the 1-cochain coordiantes $f'_{ij}=\phi_j-\phi_i$, where the strength $\phi_i = \sum_j w_{ij}$ defines a local potential for the $i$-th team.
\end{enumerate}

\begin{figure*}
\includegraphics*[scale=.4]{assets/fig1.pdf}
\includegraphics*[scale=.4]{assets/fig1.pdf}
%\put(-483,140){\bf a)}
%\put(-240,140){\bf b)}
\\
\includegraphics*[scale=.4]{assets/fig1.pdf}
\includegraphics*[scale=.4]{assets/fig1.pdf}
%\put(-483,140){\bf c)}
%\put(-240,140){\bf d)}
\caption{
\label{fig:1}
(color online).
}
\end{figure*}

\section{
Conclusions
\label{sec:conclusions}
}

\begin{acknowledgments}
The author acknowledges partial support from CONICET under grant PIP2021-2023 number 11220200101100, and from SeCyT (Universidad Nacional de Córdoba, Argentina). Special thanks go to O.V. Billoni for a careful reading of the article, and to the Centro de Cómputo de Alto Desempeño (CCAD) at the Universidad Nacional de Córdoba (UNC), \url{http://ccad.unc.edu.ar/}, which is part of SNCAD – MinCyT, Argentina, for providing computational resources.
\end{acknowledgments}

% Create the reference section using BibTeX:
\bibliography{ref}

% Specify following sections are appendices. Use \appendix* if there
% only one appendix.

%\appendix*
%\onecolumngrid

%\section{
%Combinatorial differential topology, geometry and calculus
%\label{appA}
%}

\end{document}
%
% ****** End of file apstemplate.tex ******


